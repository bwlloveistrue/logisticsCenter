<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<sqlMap namespace="com.logisticscenter.mapper.ImageFileDao">
	<typeAlias type="com.entity.ImageFileEntity" alias="imageFileE"/>
	<resultMap id="imageFileMap" class="com.entity.ImageFileEntity" >
		<result column="id" property="id" jdbcType="INT" />
		<result column="imagefilename" property="imageFileName" jdbcType="VARCHAR" />
		<result column="imagefiletype" property="imagefiletype" jdbcType="VARCHAR"/>
		<result column="imagefileused" property="imagefileused" jdbcType="INT" nullValue="0"/>
		<result column="filerealpath" property="filerealpath" jdbcType="VARCHAR" />
		<result column="iszip" property="iszip" jdbcType="VARCHAR" />
		<result column="downloads" property="downloads" jdbcType="INT" nullValue="0"/>
		<result column="createDate" property="createDate" jdbcType="VARCHAR" />
		<result column="createTime" property="createTime" jdbcType="VARCHAR" />
	</resultMap>
  
  <!-- 根据id获得上传文件信息 -->
    <select id="getImageFileBy" resultMap="imageFileMap">
     select * from imageFile where id in( $ids$ )
  </select> 
  
  <!-- 插入上传文件信息 -->
	<insert id="insertImageFile" parameterClass="imageFileE">
		insert into imageFile (
			imagefilename,
			imagefiletype,
			imagefileused,
			filerealpath,
			iszip,
			downloads,
			createDate,
			createTime
		)values(
			#imageFileName#,
			#imagefiletype#,
			#imagefileused#,
			#filerealpath#,
			#iszip#,
			#downloads#,
			#createDate#,
			#createTime#
		)
		<selectKey resultClass="int" keyProperty="id" type="post">    
			SELECT max(id) as id from imageFile
		</selectKey>
  </insert> 
  
</sqlMap>